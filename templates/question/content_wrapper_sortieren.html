<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Wrapper</title>
</head>
<body>
  <div class="content-wrapper">
    <main class="container">
    <div class="question-container">
      <form method="POST" action="/submit_solution">
        {% for row in data %}
          <p class="question-text"><strong>{{ row['fragegekuerzt'] }}</strong></p>
            {% if 'antwort1gekuerzt' in row %}
                <div class="answer-option-1">
                    <input type="number" id="antwort1_{{ loop.index }}" name="antwort1_{{ loop.index }}" placeholder="" min="1" max="10" value="{{ correct_answer1 }}"
                            class="{% if checked %}{% if result1_correct %} correct-answer {% else %} incorrect-answer {% endif %}{% endif %}">
                    <label for="antwort1_{{ loop.index }}" class="answer-label-1">{{ row['antwort1gekuerzt'] }}</label>
                </div>
                {% endif %}

                {% if 'antwort2gekuerzt' in row %}
                <div class="answer-option-2">
                    <input type="number" id="antwort2_{{ loop.index }}" name="antwort2_{{ loop.index }}" placeholder="" min="1" max="10" value="{{ correct_answer2 }}"
                            class="{% if checked %}{% if result2_correct %} correct-answer {% else %} incorrect-answer {% endif %}{% endif %}">
                    <label for="antwort2_{{ loop.index }}" class="answer-label-2">{{ row['antwort2gekuerzt'] }}</label>
                </div>
                {% endif %}

                {% if 'antwort3gekuerzt' in row %}
                <div class="answer-option-3">
                    <input type="number" id="antwort3_{{ loop.index }}" name="antwort3_{{ loop.index }}" placeholder="" min="1" max="10" value="{{ correct_answer3 }}"
                            class="{% if checked %}{% if result3_correct %} correct-answer {% else %} incorrect-answer {% endif %}{% endif %}">
                    <label for="antwort3_{{ loop.index }}" class="answer-label-3">{{ row['antwort3gekuerzt'] }}</label>
                </div>
                {% endif %}

                {% if 'antwort4gekuerzt' in row %}
                <div class="answer-option-4">
                    <input type="number" id="antwort4_{{ loop.index }}" name="antwort4_{{ loop.index }}" placeholder="" min="1" max="10" value="{{ correct_answer4 }}"
                            class="{% if checked %}{% if result4_correct %} correct-answer {% else %} incorrect-answer {% endif %}{% endif %}">
                    <label for="antwort4_{{ loop.index }}" class="answer-label-4">{{ row['antwort4gekuerzt'] }}</label>
                </div>
                {% endif %}

                {% if 'antwort5gekuerzt' in row %}
                <div class="answer-option-5">
                    <input type="number" id="antwort5_{{ loop.index }}" name="antwort5_{{ loop.index }}" placeholder="" min="1" max="10" value="{{ correct_answer5 }}"
                            class="{% if checked %}{% if result5_correct %} correct-answer {% else %} incorrect-answer {% endif %}{% endif %}">
                    <label for="antwort5_{{ loop.index }}" class="answer-label-5">{{ row['antwort5gekuerzt'] }}</label>
                </div>
                {% endif %}

                {% if 'antwort6gekuerzt' in row %}
                <div class="answer-option-6">
                    <input type="number" id="antwort6_{{ loop.index }}" name="antwort6_{{ loop.index }}" placeholder="" min="1" max="10" value="{{ correct_answer6 }}"
                            class="{% if checked %}{% if result6_correct %} correct-answer {% else %} incorrect-answer {% endif %}{% endif %}">
                    <label for="antwort6_{{ loop.index }}" class="answer-label-6">{{ row['antwort6gekuerzt'] }}</label>
                </div>
                {% endif %}

                {% if 'antwort7gekuerzt' in row %}
                <div class="answer-option-7">
                    <input type="number" id="antwort7_{{ loop.index }}" name="antwort7_{{ loop.index }}" placeholder="" min="1" max="10" value="{{ correct_answer7 }}"
                            class="{% if checked %}{% if result7_correct %} correct-answer {% else %} incorrect-answer {% endif %}{% endif %}">
                    <label for="antwort7_{{ loop.index }}" class="answer-label-7">{{ row['antwort7gekuerzt'] }}</label>
                </div>
                {% endif %}

                {% if 'antwort8gekuerzt' in row %}
                <div class="answer-option-8">
                    <input type="number" id="antwort8_{{ loop.index }}" name="antwort8_{{ loop.index }}" placeholder="" min="1" max="10" value="{{ correct_answer8 }}"
                            class="{% if checked %}{% if result8_correct %} correct-answer {% else %} incorrect-answer {% endif %}{% endif %}">
                    <label for="antwort8_{{ loop.index }}" class="answer-label-8">{{ row['antwort8gekuerzt'] }}</label>
                </div>
                {% endif %}
        {% endfor %}

        <!-- Überprüfen-/Weiter-Button -->
        <button class="check-button {% if checked %}next{% endif %}">
          <span class="check-icon">
            {% if checked %}
              <!-- Icon für "Weiter" -->
              <svg class="next-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="9 18 15 12 9 6"></polyline>
              </svg>
            {% else %}
              <!-- Icon für "Überprüfen" -->
              <svg class="check-icon-svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="11" cy="11" r="8"></circle>
                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
              </svg>
            {% endif %}
          </span>
          <span class="check-text">{% if checked %}Weiter{% else %}Überprüfen{% endif %}</span>
        </button>
      </form>
    </div>
    </main>

    <aside class="side-menu">
      <h2 class="menu-heading">Aktionen</h2>
      <div class="menu-buttons">
        <!-- Anlage-Button mit ID -->
        <button class="menu-button" id="anlageButton">
          <span class="btn-text">Anlage</span>
          <span class="btn-icon"><i class="fas fa-folder-open"></i></span>
        </button>

        <!-- Melden-Button (hier evtl. mit eigener ID für JS-Anbindung) -->
        <button class="menu-button" id="meldenButton">
          <span class="btn-text">Melden</span>
          <span class="btn-icon"><i class="fas fa-flag"></i></span>
        </button>

        <button class="menu-button bookmark-btn">
          <span class="btn-text">Merken</span>
          <span class="btn-icon"><i class="far fa-bookmark"></i></span>
        </button>

        <button class="menu-button exit-btn">
          <span class="btn-text">Beenden</span>
          <span class="btn-icon"><i class="fas fa-sign-out-alt"></i></span>
        </button>
      </div>
    </aside>
  </div>

  <!-- Modal für die Anzeige des Anlagenbildes -->
  <div id="anlageModal" class="modal">
    <div class="modal-content">
      <img id="anlageImage" src="" alt="Anlagenbild">
      <button class="close">&times;</button>
    </div>
  </div>

  <!-- Exit-Popup -->
  <div id="confirm-overlay" class="overlay">
    <div class="popup">
      <p>Möchtest du die Sitzung wirklich beenden?</p>
      <div class="popup-buttons">
        <button id="confirm-yes">Ja</button>
        <button id="confirm-no">Nein</button>
      </div>
    </div>
  </div>

  <!-- Meldung Modal (angepasst: nur Input und ein Button "Absenden") -->
  <div id="Meldung-container" class="overlay">
    <div class="popup meldung-popup">
      <input type="text" id="Meldung-input" placeholder="Gib deine Meldung ein">
      <div class="popup-buttons">
        <button id="meldung-submit" class="popup-submit">Absenden</button>
      </div>
    </div>
  </div>
</body>
</html>
